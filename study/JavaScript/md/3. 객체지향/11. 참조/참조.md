# 참조

## 1. 복제

전자화된 시스템의 가장 중요한 특징은 복제다.

현실의 사물과 다르게 전자화된 시스템 위의 데이터를 복제 하는데는 비용이 거의 들지 않는다.

바로 이러한 특징이 소프트웨어를 기존의 산업과 구분하는 가장 큰 특징일 것이다. 프로그래밍에서 복제가 무엇인가를 살펴보자.

```js
var a = 1;
var b = a;
b = 2;
console.log(a); // 1
```

결과는 당연하다. 값을 변경한 것은 변수 b이기 때문에 변수 a에 담겨있는 값은 그대로이다.

변수 b의 값에 변수 a의 값이 복제된 것이다. 이를 그림으로 표시하면 아래와 같다.

![참조](/study/JavaScript/pic/%EB%B3%B5%EC%A0%9C.png)

```js
var a = 1;
var b = a;
a = 2;
console.log("b 의 값은 무엇인가? ", b); // 1
```

a 값을 바꿔도 b의 값은 1이다.

```js
var a = 1;
var b = a;
```

라고 했을대

a 변수에 1 값이 들어가고

b 변수에 a변수 값 1 이 새로 만들어져 들어가니까 각자 돌아가는 거임

이러한 경우는 값이 `원시데이터` 타입일때 가능함

## 2. 참조

객체는 다르게 돌아감

```js
var a = { id: 1 };
var b = a;
b.id = 2;
console.log(a.id); // 2
```

![참조](/study/JavaScript/pic/%EC%B0%B8%EC%A1%B0.png)

참조는 심볼릭 링크(symbolic link) 혹은 바로가기(윈도우)를 만드는 것과 비슷하다.

원본 파일에 대해서 심볼릭 링크를 만들면 원본이 수정되면 심볼릭 링크에도 그 내용이 실시간으로 반영되는 것과 같은 효과다.

심볼릭 링크를 통해서 만든 파일은 원본 파일에 대한 주소 값이 담겨 있다.

누군가 심볼릭 링크에 접근하면 컴퓨터는 심볼릭 링크에 저장된 원본의 주소를 참조해서 원본의 위치를 알아내고 원본에 대한 작업을 하게 된다.

다시 말해서 원본을 복제한 것이 아니라 원본 파일을 참조(reference)하고 있는 것이다.

덕분에 저장 장치의 용량을 절약할 수 있고, 원본 파일을 사용하고 있는 모든 복제본이 동일한 내용을 유지할 수 있게 된다.

프로그래밍에서 광범위하게 사용하는 라이브러리라는 개념도 일종의 참조라고 할 수 있다.

공용 라이브러리를 사용하게 되면 하나의 라이브러리를 여러 애플리케이션에서 공유해서 사용하게 된다. 4

라이브러리의 내용이 변경되면 이를 참조하고 있는 애플리케이션에도 내용이 반영되게 된다.

또 우리가 변수를 사용하는 이유도 말하자면 참조를 위해서라고 할 수 있을 것이다. 본질을 파악하면 이해력도 높아지고 암기할 것도 줄어든다.

## 3. 함수

```js
var a = 1;

function func(b) {
  b = 2;
}
func(a);
console.log(a); // 1
```

참조 데이터 타입을 인자로 넘겼을 때는 어떨까

```js
var a = { id: 1 };

function func(b) {
  b = { id: 2 };
}
func(a);
console.log(a.id); // 1
```

함수 func의 파라미터 b로 전달된 값은 객체 a이다.

b 를 새로운 객체 값으로 대체하는 거라 `(b = {'id':2})`

객체 a에 영향을 주지 않는다.

```js
var a = { id: 1 };

function func(b) {
  b.id = 2;
}
func(a);
console.log(a.id); // 2
```

파라미터 b는 객체 a의 레퍼런스다.

이 값의 속성을 바꾸면 그 속성이 소속된 객체를 대상으로 수정작업을 한 것이 되기 때문에 b의 변경은 a에도 영향을 미치게 된다.
