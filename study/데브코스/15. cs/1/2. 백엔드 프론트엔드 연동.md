# 연동

## 개요

- HTTP

- API

- 데이터 교환 포맷

- AJAX

- 실시간 데이터 처리

- 인증

- CORS

## 1. HTTP

### 특징

- 클라이언트 - 서버 구조

- 무상태 (Stateless)

  - 서버가 클라이언트의 상태를 저장하지 않음

- 비연결성

  - 요청을 주고 받을때만 연결을 유지함

참고: HTTP 진화

### method

- get

- post

- put

- patch

- delete

### Request Header

검색해보자

### Response Header

### Response Status

### Cookies

사용자의 웹브라우저에서 저장된 작은 데이터 조각

- 세션관리

- 개인화

- 추적

### Cookies 속성

- Expires

- Max-age

- Domain

- Path

- Secure

- HttpOnly

## 2. API

서로 다른 소프트웨어가 통신하기 위해 따라하는 규칙

- 종류

  - REST API

    HTTP URI 를 사용해 리소스를 명시하고 HTTP 메소드를 통해 리소스를 처리하는 방식

    - 구성요소

      - Resource (자원) : 정보의 핵심 단위

      - Verb (행위) : 클라이언트가 리소스에 수행하려는 작업

      - Representiation (표현) : 클라이언트와 서버간에 전송되는 리소스의 구체적인 형태

    - 규칙

      URI 는 정보의 자원을 표현해야한다.

      자원에 대한 행위는 HTTP 메소드로 표현한다.

    - 장점

      - 단순성

      - 유연성, 확장성

      - Stateless

      - 다양한 플랫폼 및 언어지원

    - 단점

      - 과도한 데이터 전송

      - 복잡한 쿼리 어려움

      - 표준 부재

  - GraphQL API

    단일한 엔드 포인트에 쿼리를 하여 필요한 데이터만 요청하는 방식

    - 장점

      - 데이터 요청의 유연성

      - 전송량 감소

      - 단일 엔드 포인트

      - 강력한 스키마

      - 자동 문서화

    - 단점

      - 학습 곡선

      - 캐싱의 복잡성

      - 쿼리 복잡성

      - 보안 문제

  - SOAP

    XML 기반 메시지를 사용하여 데이터를 전송하는 프로토콜

    - 장점

      - 다양한 보안 기능

      - 확장 가능한 설계

    - 단점

      - 다른 프로토콜에 비해 복잡함

      - 성능이 떨어짐

## 3. 데이터 교환 형식

### JSON

간단하고 가벼운 텍스트 기반 데이터 교환 포맷

- 장점

  - 간결성

  - 프로그래밍 언어 독립적

  - 구조화된 데이터 표현

- 단점

  - 기능 부족

  - 데이터 크기

### XML

HTML 과 비슷한 텍스트 기반의 마크업 언어

- XML 스키마

- 장점

  - self-Descriptive

  - 확정성

  - 다양한 플랫폼 지원

  - 유효성 검사

- 단점

  - 복잡성

  - 처리 속도

  - 가독성

  - 네트워크 효율성

## 4. AJAX

비동기적으로 서버와 통신함으로써 웹 페이지 전체를 다시 로딩하지 않고 웹 페이지 일부분만을 업데이트 할 수 있게 하는 기술

- 장점

  - 웹 페이지 속도 향상

  - 향상된 사용자 경험

  - 서버 부하 감소

- 단점

  - 보안취약점

  - 브라우저 호환성

  - SEO 문제

    검색엔진이 해당 동적 데이터를 크롤링 못함

  - 디버깅 어려움

## 5. 실시간 데이터 처리

### 실시간 데이터 처리 방식

- Server Push

  - 서버에서 클라이언트에게 데이터 스크림을 푸시 방식으로 전송

  - WebSocket 과 SSE (Server-Sent Event)

    (WebSocket) 클라이언트의 핸드쉐이크 요청에 포함되는 헤더 > Upgrade

    (SSE) 클라이언트로 데이터를 실시간으로 전송할 수 있는 단방향 통신 기술

- Client Pulling

  - 클라이언트가 서버에 주기적으로 요청을 보내어 새로운 데이터가 있는지 확인하는 방식

  - Ajax Polling 과 Long Polling

## 6. 인증

### 세션 쿠키

- 장점

  - 호환성

  - 보안

  - 서버측 제어

  - 개인화

- 단점

  - 서버 부하

  - 확정성 제한

  - 세션 쿠키 탈취

### JWT

- 구조

  - Header : 토큰의 타입이나 서명에 어떤 알고리즘이 사용되었는지를 저장

  - Payload : 토큰에 사용될 조각인 Claim 을 담고 있는 Json 객체

  - Signature : 토큰의 유효성 검증

- 장점

  - self-contained

  - 효율성

  - 확장성

  - 높은 보안성

- 단점

  - 토큰 크기

  - Payload 보안

  - 토큰 만료 관리

세션 쿠키 방식과 JWT 방식의 주요 차이점 > 데이터 저장 위치

## 7. CORS

- 동일 출처 정책 (Same-Origin Policy)

  웹 브라우저의 보안 정책으로 웹 브라우저에서 실행되는 스크립트가 다른 출처의 리소스에 요청하는 것을 제한하는 정책

### Origin 구성

protocol, hostname, port

### CORS 문제 해결 방법

example.com 페이지의 응답 헤더에 추가

CORS 에러를 해결하기 위해 웹 페이지에 접근을 허용하는 출처를 지정하는 헤더 > Access-Control-Allow-Origin
